!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).HTMLDOMParser=t()}(this,(function(){"use strict";var e="html",t="head",n="body",r=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,i=/<body[^]*>/i,s=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},a=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},c="object"==typeof window&&window.DOMParser;if("function"==typeof c){var u=new c;s=a=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),u.parseFromString(e,"text/html")}}if("object"==typeof document&&document.implementation){var l=document.implementation.createHTMLDocument();s=function(e,t){if(t){var n=l.documentElement.querySelector(t);return n&&(n.innerHTML=e),l}return l.documentElement.innerHTML=e,l}}var d,p,f="object"==typeof document&&document.createElement("template");f&&f.content&&(d=function(e){return f.innerHTML=e,f.content.childNodes}),function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(p||(p={})),p.Root,p.Text,p.Directive,p.Comment,p.Script,p.Style,p.Tag,p.CDATA,p.Doctype;class h{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return S(this,e)}}class m extends h{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class x extends m{constructor(){super(...arguments),this.type=p.Text}get nodeType(){return 3}}class y extends m{constructor(){super(...arguments),this.type=p.Comment}get nodeType(){return 8}}class v extends m{constructor(e,t){super(t),this.name=e,this.type=p.Directive}get nodeType(){return 1}}class g extends h{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class b extends g{constructor(){super(...arguments),this.type=p.CDATA}get nodeType(){return 4}}class T extends g{constructor(){super(...arguments),this.type=p.Root}get nodeType(){return 9}}class w extends g{constructor(e,t,n=[],r=("script"===e?p.Script:"style"===e?p.Style:p.Tag)){super(n),this.name=e,this.attribs=t,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function C(e){return(t=e).type===p.Tag||t.type===p.Script||t.type===p.Style;var t}function S(e,t=!1){let n;if(function(e){return e.type===p.Text}(e))n=new x(e.data);else if(function(e){return e.type===p.Comment}(e))n=new y(e.data);else if(C(e)){const r=t?N(e.children):[],o=new w(e.name,{...e.attribs},r);r.forEach((e=>e.parent=o)),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=o}else if(function(e){return e.type===p.CDATA}(e)){const r=t?N(e.children):[],o=new b(r);r.forEach((e=>e.parent=o)),n=o}else if(function(e){return e.type===p.Root}(e)){const r=t?N(e.children):[],o=new T(r);r.forEach((e=>e.parent=o)),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else{if(!function(e){return e.type===p.Directive}(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new v(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),n=t}}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function N(e){const t=e.map((e=>S(e,!0)));for(let e=1;e<t.length;e++)t[e].prev=t[e-1],t[e-1].next=t[e];return t}var D=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"].reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{});function L(e){for(var t={},n=0,r=e.length;n<r;n++){var o=e[n];t[o.name]=o.value}return t}function M(e){var t=function(e){return D[e]}(e=e.toLowerCase());return t||e}function A(e,t,n){void 0===t&&(t=null);for(var r,o=[],i=0,s=e.length;i<s;i++){var a=e[i];switch(a.nodeType){case 1:var c=M(a.nodeName);(r=new w(c,L(a.attributes))).children=A("template"===c?a.content.childNodes:a.childNodes,r);break;case 3:r=new x(a.nodeValue);break;case 8:r=new y(a.nodeValue);break;default:continue}var u=o[i-1]||null;u&&(u.next=r),r.parent=t,r.prev=u,r.next=null,o.push(r)}return n&&((r=new v(n.substring(0,n.indexOf(" ")).toLowerCase(),n)).next=o[0]||null,r.parent=t,o.unshift(r),o[1]&&(o[1].prev=o[0])),o}var I=/<(![a-zA-Z\s]+)>/;return function(c){if("string"!=typeof c)throw new TypeError("First argument must be a string");if(!c)return[];var u=c.match(I),l=u?u[1]:void 0;return A(function(c){var u,l,p=c.match(r),f=p&&p[1]?p[1].toLowerCase():"";switch(f){case e:var h=a(c);return o.test(c)||null===(u=null==(x=h.querySelector(t))?void 0:x.parentNode)||void 0===u||u.removeChild(x),i.test(c)||null===(l=null==(x=h.querySelector(n))?void 0:x.parentNode)||void 0===l||l.removeChild(x),h.querySelectorAll(e);case t:case n:var m=s(c).querySelectorAll(f);return i.test(c)&&o.test(c)?m[0].parentNode.childNodes:m;default:return d?d(c):(x=s(c,n).querySelector(n)).childNodes;var x}}(c),null,l)}}));
//# sourceMappingURL=html-dom-parser.min.js.map
