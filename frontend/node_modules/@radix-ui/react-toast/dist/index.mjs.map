{"mappings":"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","sources":["packages/react/toast/src/index.ts","packages/react/toast/src/Toast.tsx"],"sourcesContent":["export {\n  createToastScope,\n  //\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastAction,\n  ToastClose,\n  //\n  Provider,\n  Viewport,\n  Root,\n  Title,\n  Description,\n  Action,\n  Close,\n} from './Toast';\nexport type {\n  ToastProviderProps,\n  ToastViewportProps,\n  ToastProps,\n  ToastTitleProps,\n  ToastDescriptionProps,\n  ToastActionProps,\n  ToastCloseProps,\n} from './Toast';\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { createContextScope } from '@radix-ui/react-context';\nimport * as DismissableLayer from '@radix-ui/react-dismissable-layer';\nimport { Portal } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { VisuallyHidden } from '@radix-ui/react-visually-hidden';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToastProvider\n * -----------------------------------------------------------------------------------------------*/\n\nconst PROVIDER_NAME = 'ToastProvider';\n\nconst [Collection, useCollection, createCollectionScope] = createCollection<ToastElement>('Toast');\n\ntype SwipeDirection = 'up' | 'down' | 'left' | 'right';\ntype ToastProviderContextValue = {\n  label: string;\n  duration: number;\n  swipeDirection: SwipeDirection;\n  swipeThreshold: number;\n  toastCount: number;\n  viewport: ToastViewportElement | null;\n  onViewportChange(viewport: ToastViewportElement): void;\n  onToastAdd(): void;\n  onToastRemove(): void;\n  isFocusedToastEscapeKeyDownRef: React.MutableRefObject<boolean>;\n  isClosePausedRef: React.MutableRefObject<boolean>;\n};\n\ntype ScopedProps<P> = P & { __scopeToast?: Scope };\nconst [createToastContext, createToastScope] = createContextScope('Toast', [createCollectionScope]);\nconst [ToastProviderProvider, useToastProviderContext] =\n  createToastContext<ToastProviderContextValue>(PROVIDER_NAME);\n\ninterface ToastProviderProps {\n  children?: React.ReactNode;\n  /**\n   * An author-localized label for each toast. Used to help screen reader users\n   * associate the interruption with a toast.\n   * @defaultValue 'Notification'\n   */\n  label?: string;\n  /**\n   * Time in milliseconds that each toast should remain visible for.\n   * @defaultValue 5000\n   */\n  duration?: number;\n  /**\n   * Direction of pointer swipe that should close the toast.\n   * @defaultValue 'right'\n   */\n  swipeDirection?: SwipeDirection;\n  /**\n   * Distance in pixels that the swipe must pass before a close is triggered.\n   * @defaultValue 50\n   */\n  swipeThreshold?: number;\n}\n\nconst ToastProvider: React.FC<ToastProviderProps> = (props: ScopedProps<ToastProviderProps>) => {\n  const {\n    __scopeToast,\n    label = 'Notification',\n    duration = 5000,\n    swipeDirection = 'right',\n    swipeThreshold = 50,\n    children,\n  } = props;\n  const [viewport, setViewport] = React.useState<ToastViewportElement | null>(null);\n  const [toastCount, setToastCount] = React.useState(0);\n  const isFocusedToastEscapeKeyDownRef = React.useRef(false);\n  const isClosePausedRef = React.useRef(false);\n  return (\n    <Collection.Provider scope={__scopeToast}>\n      <ToastProviderProvider\n        scope={__scopeToast}\n        label={label}\n        duration={duration}\n        swipeDirection={swipeDirection}\n        swipeThreshold={swipeThreshold}\n        toastCount={toastCount}\n        viewport={viewport}\n        onViewportChange={setViewport}\n        onToastAdd={React.useCallback(() => setToastCount((prevCount) => prevCount + 1), [])}\n        onToastRemove={React.useCallback(() => setToastCount((prevCount) => prevCount - 1), [])}\n        isFocusedToastEscapeKeyDownRef={isFocusedToastEscapeKeyDownRef}\n        isClosePausedRef={isClosePausedRef}\n      >\n        {children}\n      </ToastProviderProvider>\n    </Collection.Provider>\n  );\n};\n\nToastProvider.propTypes = {\n  label(props) {\n    if (props.label && typeof props.label === 'string' && !props.label.trim()) {\n      const error = `Invalid prop \\`label\\` supplied to \\`${PROVIDER_NAME}\\`. Expected non-empty \\`string\\`.`;\n      return new Error(error);\n    }\n    return null;\n  },\n};\n\nToastProvider.displayName = PROVIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToastViewport\n * -----------------------------------------------------------------------------------------------*/\n\nconst VIEWPORT_NAME = 'ToastViewport';\nconst VIEWPORT_DEFAULT_HOTKEY = ['F8'];\nconst VIEWPORT_PAUSE = 'toast.viewportPause';\nconst VIEWPORT_RESUME = 'toast.viewportResume';\n\ntype ToastViewportElement = React.ElementRef<typeof Primitive.ol>;\ntype PrimitiveOrderedListProps = Radix.ComponentPropsWithoutRef<typeof Primitive.ol>;\ninterface ToastViewportProps extends PrimitiveOrderedListProps {\n  /**\n   * The keys to use as the keyboard shortcut that will move focus to the toast viewport.\n   * @defaultValue ['F8']\n   */\n  hotkey?: string[];\n  /**\n   * An author-localized label for the toast viewport to provide context for screen reader users\n   * when navigating page landmarks. The available `{hotkey}` placeholder will be replaced for you.\n   * @defaultValue 'Notifications ({hotkey})'\n   */\n  label?: string;\n}\n\nconst ToastViewport = React.forwardRef<ToastViewportElement, ToastViewportProps>(\n  (props: ScopedProps<ToastViewportProps>, forwardedRef) => {\n    const {\n      __scopeToast,\n      hotkey = VIEWPORT_DEFAULT_HOTKEY,\n      label = 'Notifications ({hotkey})',\n      ...viewportProps\n    } = props;\n    const context = useToastProviderContext(VIEWPORT_NAME, __scopeToast);\n    const getItems = useCollection(__scopeToast);\n    const wrapperRef = React.useRef<HTMLDivElement>(null);\n    const headFocusProxyRef = React.useRef<FocusProxyElement>(null);\n    const tailFocusProxyRef = React.useRef<FocusProxyElement>(null);\n    const ref = React.useRef<ToastViewportElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    const hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n    const hasToasts = context.toastCount > 0;\n\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        // we use `event.code` as it is consistent regardless of meta keys that were pressed.\n        // for example, `event.key` for `Control+Alt+t` is `†` and `t !== †`\n        const isHotkeyPressed = hotkey.every((key) => (event as any)[key] || event.code === key);\n        if (isHotkeyPressed) ref.current?.focus();\n      };\n      document.addEventListener('keydown', handleKeyDown);\n      return () => document.removeEventListener('keydown', handleKeyDown);\n    }, [hotkey]);\n\n    React.useEffect(() => {\n      const wrapper = wrapperRef.current;\n      const viewport = ref.current;\n      if (hasToasts && wrapper && viewport) {\n        const handlePause = () => {\n          if (!context.isClosePausedRef.current) {\n            const pauseEvent = new CustomEvent(VIEWPORT_PAUSE);\n            viewport.dispatchEvent(pauseEvent);\n            context.isClosePausedRef.current = true;\n          }\n        };\n\n        const handleResume = () => {\n          if (context.isClosePausedRef.current) {\n            const resumeEvent = new CustomEvent(VIEWPORT_RESUME);\n            viewport.dispatchEvent(resumeEvent);\n            context.isClosePausedRef.current = false;\n          }\n        };\n\n        const handleFocusOutResume = (event: FocusEvent) => {\n          const isFocusMovingOutside = !wrapper.contains(event.relatedTarget as HTMLElement);\n          if (isFocusMovingOutside) handleResume();\n        };\n\n        const handlePointerLeaveResume = () => {\n          const isFocusInside = wrapper.contains(document.activeElement);\n          if (!isFocusInside) handleResume();\n        };\n\n        // Toasts are not in the viewport React tree so we need to bind DOM events\n        wrapper.addEventListener('focusin', handlePause);\n        wrapper.addEventListener('focusout', handleFocusOutResume);\n        wrapper.addEventListener('pointermove', handlePause);\n        wrapper.addEventListener('pointerleave', handlePointerLeaveResume);\n        window.addEventListener('blur', handlePause);\n        window.addEventListener('focus', handleResume);\n        return () => {\n          wrapper.removeEventListener('focusin', handlePause);\n          wrapper.removeEventListener('focusout', handleFocusOutResume);\n          wrapper.removeEventListener('pointermove', handlePause);\n          wrapper.removeEventListener('pointerleave', handlePointerLeaveResume);\n          window.removeEventListener('blur', handlePause);\n          window.removeEventListener('focus', handleResume);\n        };\n      }\n    }, [hasToasts, context.isClosePausedRef]);\n\n    const getSortedTabbableCandidates = React.useCallback(\n      ({ tabbingDirection }: { tabbingDirection: 'forwards' | 'backwards' }) => {\n        const toastItems = getItems();\n        const tabbableCandidates = toastItems.map((toastItem) => {\n          const toastNode = toastItem.ref.current!;\n          const toastTabbableCandidates = [toastNode, ...getTabbableCandidates(toastNode)];\n          return tabbingDirection === 'forwards'\n            ? toastTabbableCandidates\n            : toastTabbableCandidates.reverse();\n        });\n        return (\n          tabbingDirection === 'forwards' ? tabbableCandidates.reverse() : tabbableCandidates\n        ).flat();\n      },\n      [getItems]\n    );\n\n    React.useEffect(() => {\n      const viewport = ref.current;\n      // We programmatically manage tabbing as we are unable to influence\n      // the source order with portals, this allows us to reverse the\n      // tab order so that it runs from most recent toast to least\n      if (viewport) {\n        const handleKeyDown = (event: KeyboardEvent) => {\n          const isMetaKey = event.altKey || event.ctrlKey || event.metaKey;\n          const isTabKey = event.key === 'Tab' && !isMetaKey;\n\n          if (isTabKey) {\n            const focusedElement = document.activeElement;\n            const isTabbingBackwards = event.shiftKey;\n            const targetIsViewport = event.target === viewport;\n\n            // If we're back tabbing after jumping to the viewport then we simply\n            // proxy focus out to the preceding document\n            if (targetIsViewport && isTabbingBackwards) {\n              headFocusProxyRef.current?.focus();\n              return;\n            }\n\n            const tabbingDirection = isTabbingBackwards ? 'backwards' : 'forwards';\n            const sortedCandidates = getSortedTabbableCandidates({ tabbingDirection });\n            const index = sortedCandidates.findIndex((candidate) => candidate === focusedElement);\n            if (focusFirst(sortedCandidates.slice(index + 1))) {\n              event.preventDefault();\n            } else {\n              // If we can't focus that means we're at the edges so we\n              // proxy to the corresponding exit point and let the browser handle\n              // tab/shift+tab keypress and implicitly pass focus to the next valid element in the document\n              isTabbingBackwards\n                ? headFocusProxyRef.current?.focus()\n                : tailFocusProxyRef.current?.focus();\n            }\n          }\n        };\n\n        // Toasts are not in the viewport React tree so we need to bind DOM events\n        viewport.addEventListener('keydown', handleKeyDown);\n        return () => viewport.removeEventListener('keydown', handleKeyDown);\n      }\n    }, [getItems, getSortedTabbableCandidates]);\n\n    return (\n      <DismissableLayer.Branch\n        ref={wrapperRef}\n        role=\"region\"\n        aria-label={label.replace('{hotkey}', hotkeyLabel)}\n        // Ensure virtual cursor from landmarks menus triggers focus/blur for pause/resume\n        tabIndex={-1}\n        // incase list has size when empty (e.g. padding), we remove pointer events so\n        // it doesn't prevent interactions with page elements that it overlays\n        style={{ pointerEvents: hasToasts ? undefined : 'none' }}\n      >\n        {hasToasts && (\n          <FocusProxy\n            ref={headFocusProxyRef}\n            onFocusFromOutsideViewport={() => {\n              const tabbableCandidates = getSortedTabbableCandidates({\n                tabbingDirection: 'forwards',\n              });\n              focusFirst(tabbableCandidates);\n            }}\n          />\n        )}\n        {/**\n         * tabindex on the the list so that it can be focused when items are removed. we focus\n         * the list instead of the viewport so it announces number of items remaining.\n         */}\n        <Collection.Slot scope={__scopeToast}>\n          <Primitive.ol tabIndex={-1} {...viewportProps} ref={composedRefs} />\n        </Collection.Slot>\n        {hasToasts && (\n          <FocusProxy\n            ref={tailFocusProxyRef}\n            onFocusFromOutsideViewport={() => {\n              const tabbableCandidates = getSortedTabbableCandidates({\n                tabbingDirection: 'backwards',\n              });\n              focusFirst(tabbableCandidates);\n            }}\n          />\n        )}\n      </DismissableLayer.Branch>\n    );\n  }\n);\n\nToastViewport.displayName = VIEWPORT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst FOCUS_PROXY_NAME = 'ToastFocusProxy';\n\ntype FocusProxyElement = React.ElementRef<typeof VisuallyHidden>;\ntype VisuallyHiddenProps = Radix.ComponentPropsWithoutRef<typeof VisuallyHidden>;\ninterface FocusProxyProps extends VisuallyHiddenProps {\n  onFocusFromOutsideViewport(): void;\n}\n\nconst FocusProxy = React.forwardRef<FocusProxyElement, ScopedProps<FocusProxyProps>>(\n  (props, forwardedRef) => {\n    const { __scopeToast, onFocusFromOutsideViewport, ...proxyProps } = props;\n    const context = useToastProviderContext(FOCUS_PROXY_NAME, __scopeToast);\n\n    return (\n      <VisuallyHidden\n        aria-hidden\n        tabIndex={0}\n        {...proxyProps}\n        ref={forwardedRef}\n        // Avoid page scrolling when focus is on the focus proxy\n        style={{ position: 'fixed' }}\n        onFocus={(event) => {\n          const prevFocusedElement = event.relatedTarget as HTMLElement | null;\n          const isFocusFromOutsideViewport = !context.viewport?.contains(prevFocusedElement);\n          if (isFocusFromOutsideViewport) onFocusFromOutsideViewport();\n        }}\n      />\n    );\n  }\n);\n\nFocusProxy.displayName = FOCUS_PROXY_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Toast\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOAST_NAME = 'Toast';\nconst TOAST_SWIPE_START = 'toast.swipeStart';\nconst TOAST_SWIPE_MOVE = 'toast.swipeMove';\nconst TOAST_SWIPE_CANCEL = 'toast.swipeCancel';\nconst TOAST_SWIPE_END = 'toast.swipeEnd';\n\ntype ToastElement = ToastImplElement;\ninterface ToastProps extends Omit<ToastImplProps, keyof ToastImplPrivateProps> {\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst Toast = React.forwardRef<ToastElement, ToastProps>(\n  (props: ScopedProps<ToastProps>, forwardedRef) => {\n    const { forceMount, open: openProp, defaultOpen, onOpenChange, ...toastProps } = props;\n    const [open = true, setOpen] = useControllableState({\n      prop: openProp,\n      defaultProp: defaultOpen,\n      onChange: onOpenChange,\n    });\n    return (\n      <Presence present={forceMount || open}>\n        <ToastImpl\n          open={open}\n          {...toastProps}\n          ref={forwardedRef}\n          onClose={() => setOpen(false)}\n          onPause={useCallbackRef(props.onPause)}\n          onResume={useCallbackRef(props.onResume)}\n          onSwipeStart={composeEventHandlers(props.onSwipeStart, (event) => {\n            event.currentTarget.setAttribute('data-swipe', 'start');\n          })}\n          onSwipeMove={composeEventHandlers(props.onSwipeMove, (event) => {\n            const { x, y } = event.detail.delta;\n            event.currentTarget.setAttribute('data-swipe', 'move');\n            event.currentTarget.style.setProperty('--radix-toast-swipe-move-x', `${x}px`);\n            event.currentTarget.style.setProperty('--radix-toast-swipe-move-y', `${y}px`);\n          })}\n          onSwipeCancel={composeEventHandlers(props.onSwipeCancel, (event) => {\n            event.currentTarget.setAttribute('data-swipe', 'cancel');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-y');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-end-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-end-y');\n          })}\n          onSwipeEnd={composeEventHandlers(props.onSwipeEnd, (event) => {\n            const { x, y } = event.detail.delta;\n            event.currentTarget.setAttribute('data-swipe', 'end');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-x');\n            event.currentTarget.style.removeProperty('--radix-toast-swipe-move-y');\n            event.currentTarget.style.setProperty('--radix-toast-swipe-end-x', `${x}px`);\n            event.currentTarget.style.setProperty('--radix-toast-swipe-end-y', `${y}px`);\n            setOpen(false);\n          })}\n        />\n      </Presence>\n    );\n  }\n);\n\nToast.displayName = TOAST_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype SwipeEvent = { currentTarget: EventTarget & ToastElement } & Omit<\n  CustomEvent<{ originalEvent: React.PointerEvent; delta: { x: number; y: number } }>,\n  'currentTarget'\n>;\n\nconst [ToastInteractiveProvider, useToastInteractiveContext] = createToastContext(TOAST_NAME, {\n  onClose() {},\n});\n\ntype ToastImplElement = React.ElementRef<typeof Primitive.li>;\ntype DismissableLayerProps = Radix.ComponentPropsWithoutRef<typeof DismissableLayer.Root>;\ntype ToastImplPrivateProps = { open: boolean; onClose(): void };\ntype PrimitiveListItemProps = Radix.ComponentPropsWithoutRef<typeof Primitive.li>;\ninterface ToastImplProps extends ToastImplPrivateProps, PrimitiveListItemProps {\n  type?: 'foreground' | 'background';\n  /**\n   * Time in milliseconds that toast should remain visible for. Overrides value\n   * given to `ToastProvider`.\n   */\n  duration?: number;\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  onPause?(): void;\n  onResume?(): void;\n  onSwipeStart?(event: SwipeEvent): void;\n  onSwipeMove?(event: SwipeEvent): void;\n  onSwipeCancel?(event: SwipeEvent): void;\n  onSwipeEnd?(event: SwipeEvent): void;\n}\n\nconst ToastImpl = React.forwardRef<ToastImplElement, ToastImplProps>(\n  (props: ScopedProps<ToastImplProps>, forwardedRef) => {\n    const {\n      __scopeToast,\n      type = 'foreground',\n      duration: durationProp,\n      open,\n      onClose,\n      onEscapeKeyDown,\n      onPause,\n      onResume,\n      onSwipeStart,\n      onSwipeMove,\n      onSwipeCancel,\n      onSwipeEnd,\n      ...toastProps\n    } = props;\n    const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n    const [node, setNode] = React.useState<ToastImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setNode(node));\n    const pointerStartRef = React.useRef<{ x: number; y: number } | null>(null);\n    const swipeDeltaRef = React.useRef<{ x: number; y: number } | null>(null);\n    const duration = durationProp || context.duration;\n    const closeTimerStartTimeRef = React.useRef(0);\n    const closeTimerRemainingTimeRef = React.useRef(duration);\n    const closeTimerRef = React.useRef(0);\n    const { onToastAdd, onToastRemove } = context;\n    const handleClose = useCallbackRef(() => {\n      // focus viewport if focus is within toast to read the remaining toast\n      // count to SR users and ensure focus isn't lost\n      const isFocusInToast = node?.contains(document.activeElement);\n      if (isFocusInToast) context.viewport?.focus();\n      onClose();\n    });\n\n    const startTimer = React.useCallback(\n      (duration: number) => {\n        if (!duration || duration === Infinity) return;\n        window.clearTimeout(closeTimerRef.current);\n        closeTimerStartTimeRef.current = new Date().getTime();\n        closeTimerRef.current = window.setTimeout(handleClose, duration);\n      },\n      [handleClose]\n    );\n\n    React.useEffect(() => {\n      const viewport = context.viewport;\n      if (viewport) {\n        const handleResume = () => {\n          startTimer(closeTimerRemainingTimeRef.current);\n          onResume?.();\n        };\n        const handlePause = () => {\n          const elapsedTime = new Date().getTime() - closeTimerStartTimeRef.current;\n          closeTimerRemainingTimeRef.current = closeTimerRemainingTimeRef.current - elapsedTime;\n          window.clearTimeout(closeTimerRef.current);\n          onPause?.();\n        };\n        viewport.addEventListener(VIEWPORT_PAUSE, handlePause);\n        viewport.addEventListener(VIEWPORT_RESUME, handleResume);\n        return () => {\n          viewport.removeEventListener(VIEWPORT_PAUSE, handlePause);\n          viewport.removeEventListener(VIEWPORT_RESUME, handleResume);\n        };\n      }\n    }, [context.viewport, duration, onPause, onResume, startTimer]);\n\n    // start timer when toast opens or duration changes.\n    // we include `open` in deps because closed !== unmounted when animating\n    // so it could reopen before being completely unmounted\n    React.useEffect(() => {\n      if (open && !context.isClosePausedRef.current) startTimer(duration);\n    }, [open, duration, context.isClosePausedRef, startTimer]);\n\n    React.useEffect(() => {\n      onToastAdd();\n      return () => onToastRemove();\n    }, [onToastAdd, onToastRemove]);\n\n    const announceTextContent = React.useMemo(() => {\n      return node ? getAnnounceTextContent(node) : null;\n    }, [node]);\n\n    if (!context.viewport) return null;\n\n    return (\n      <>\n        {announceTextContent && (\n          <ToastAnnounce\n            __scopeToast={__scopeToast}\n            // Toasts are always role=status to avoid stuttering issues with role=alert in SRs.\n            role=\"status\"\n            aria-live={type === 'foreground' ? 'assertive' : 'polite'}\n            aria-atomic\n          >\n            {announceTextContent}\n          </ToastAnnounce>\n        )}\n\n        <ToastInteractiveProvider scope={__scopeToast} onClose={handleClose}>\n          {ReactDOM.createPortal(\n            <Collection.ItemSlot scope={__scopeToast}>\n              <DismissableLayer.Root\n                asChild\n                onEscapeKeyDown={composeEventHandlers(onEscapeKeyDown, () => {\n                  if (!context.isFocusedToastEscapeKeyDownRef.current) handleClose();\n                  context.isFocusedToastEscapeKeyDownRef.current = false;\n                })}\n              >\n                <Primitive.li\n                  // Ensure toasts are announced as status list or status when focused\n                  role=\"status\"\n                  aria-live=\"off\"\n                  aria-atomic\n                  tabIndex={0}\n                  data-state={open ? 'open' : 'closed'}\n                  data-swipe-direction={context.swipeDirection}\n                  {...toastProps}\n                  ref={composedRefs}\n                  style={{ userSelect: 'none', touchAction: 'none', ...props.style }}\n                  onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n                    if (event.key !== 'Escape') return;\n                    onEscapeKeyDown?.(event.nativeEvent);\n                    if (!event.nativeEvent.defaultPrevented) {\n                      context.isFocusedToastEscapeKeyDownRef.current = true;\n                      handleClose();\n                    }\n                  })}\n                  onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n                    if (event.button !== 0) return;\n                    pointerStartRef.current = { x: event.clientX, y: event.clientY };\n                  })}\n                  onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n                    if (!pointerStartRef.current) return;\n                    const x = event.clientX - pointerStartRef.current.x;\n                    const y = event.clientY - pointerStartRef.current.y;\n                    const hasSwipeMoveStarted = Boolean(swipeDeltaRef.current);\n                    const isHorizontalSwipe = ['left', 'right'].includes(context.swipeDirection);\n                    const clamp = ['left', 'up'].includes(context.swipeDirection)\n                      ? Math.min\n                      : Math.max;\n                    const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n                    const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n                    const moveStartBuffer = event.pointerType === 'touch' ? 10 : 2;\n                    const delta = { x: clampedX, y: clampedY };\n                    const eventDetail = { originalEvent: event, delta };\n                    if (hasSwipeMoveStarted) {\n                      swipeDeltaRef.current = delta;\n                      handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE, onSwipeMove, eventDetail, {\n                        discrete: false,\n                      });\n                    } else if (isDeltaInDirection(delta, context.swipeDirection, moveStartBuffer)) {\n                      swipeDeltaRef.current = delta;\n                      handleAndDispatchCustomEvent(TOAST_SWIPE_START, onSwipeStart, eventDetail, {\n                        discrete: false,\n                      });\n                      (event.target as HTMLElement).setPointerCapture(event.pointerId);\n                    } else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n                      // User is swiping in wrong direction so we disable swipe gesture\n                      // for the current pointer down interaction\n                      pointerStartRef.current = null;\n                    }\n                  })}\n                  onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n                    const delta = swipeDeltaRef.current;\n                    const target = event.target as HTMLElement;\n                    if (target.hasPointerCapture(event.pointerId)) {\n                      target.releasePointerCapture(event.pointerId);\n                    }\n                    swipeDeltaRef.current = null;\n                    pointerStartRef.current = null;\n                    if (delta) {\n                      const toast = event.currentTarget;\n                      const eventDetail = { originalEvent: event, delta };\n                      if (\n                        isDeltaInDirection(delta, context.swipeDirection, context.swipeThreshold)\n                      ) {\n                        handleAndDispatchCustomEvent(TOAST_SWIPE_END, onSwipeEnd, eventDetail, {\n                          discrete: true,\n                        });\n                      } else {\n                        handleAndDispatchCustomEvent(\n                          TOAST_SWIPE_CANCEL,\n                          onSwipeCancel,\n                          eventDetail,\n                          {\n                            discrete: true,\n                          }\n                        );\n                      }\n                      // Prevent click event from triggering on items within the toast when\n                      // pointer up is part of a swipe gesture\n                      toast.addEventListener('click', (event) => event.preventDefault(), {\n                        once: true,\n                      });\n                    }\n                  })}\n                />\n              </DismissableLayer.Root>\n            </Collection.ItemSlot>,\n            context.viewport\n          )}\n        </ToastInteractiveProvider>\n      </>\n    );\n  }\n);\n\nToastImpl.propTypes = {\n  type(props) {\n    if (props.type && !['foreground', 'background'].includes(props.type)) {\n      const error = `Invalid prop \\`type\\` supplied to \\`${TOAST_NAME}\\`. Expected \\`foreground | background\\`.`;\n      return new Error(error);\n    }\n    return null;\n  },\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\ninterface ToastAnnounceProps\n  extends Omit<React.ComponentPropsWithoutRef<'div'>, 'children'>,\n    ScopedProps<{ children: string[] }> {}\n\nconst ToastAnnounce: React.FC<ToastAnnounceProps> = (props: ScopedProps<ToastAnnounceProps>) => {\n  const { __scopeToast, children, ...announceProps } = props;\n  const context = useToastProviderContext(TOAST_NAME, __scopeToast);\n  const [renderAnnounceText, setRenderAnnounceText] = React.useState(false);\n  const [isAnnounced, setIsAnnounced] = React.useState(false);\n\n  // render text content in the next frame to ensure toast is announced in NVDA\n  useNextFrame(() => setRenderAnnounceText(true));\n\n  // cleanup after announcing\n  React.useEffect(() => {\n    const timer = window.setTimeout(() => setIsAnnounced(true), 1000);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  return isAnnounced ? null : (\n    <Portal asChild>\n      <VisuallyHidden {...announceProps}>\n        {renderAnnounceText && (\n          <>\n            {context.label} {children}\n          </>\n        )}\n      </VisuallyHidden>\n    </Portal>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * ToastTitle\n * -----------------------------------------------------------------------------------------------*/\n\nconst TITLE_NAME = 'ToastTitle';\n\ntype ToastTitleElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToastTitleProps extends PrimitiveDivProps {}\n\nconst ToastTitle = React.forwardRef<ToastTitleElement, ToastTitleProps>(\n  (props: ScopedProps<ToastTitleProps>, forwardedRef) => {\n    const { __scopeToast, ...titleProps } = props;\n    return <Primitive.div {...titleProps} ref={forwardedRef} />;\n  }\n);\n\nToastTitle.displayName = TITLE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToastDescription\n * -----------------------------------------------------------------------------------------------*/\n\nconst DESCRIPTION_NAME = 'ToastDescription';\n\ntype ToastDescriptionElement = React.ElementRef<typeof Primitive.div>;\ninterface ToastDescriptionProps extends PrimitiveDivProps {}\n\nconst ToastDescription = React.forwardRef<ToastDescriptionElement, ToastDescriptionProps>(\n  (props: ScopedProps<ToastDescriptionProps>, forwardedRef) => {\n    const { __scopeToast, ...descriptionProps } = props;\n    return <Primitive.div {...descriptionProps} ref={forwardedRef} />;\n  }\n);\n\nToastDescription.displayName = DESCRIPTION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToastAction\n * -----------------------------------------------------------------------------------------------*/\n\nconst ACTION_NAME = 'ToastAction';\n\ntype ToastActionElement = ToastCloseElement;\ninterface ToastActionProps extends ToastCloseProps {\n  /**\n   * A short description for an alternate way to carry out the action. For screen reader users\n   * who will not be able to navigate to the button easily/quickly.\n   * @example <ToastAction altText=\"Goto account settings to upgrade\">Upgrade</ToastAction>\n   * @example <ToastAction altText=\"Undo (Alt+U)\">Undo</ToastAction>\n   */\n  altText: string;\n}\n\nconst ToastAction = React.forwardRef<ToastActionElement, ToastActionProps>(\n  (props: ScopedProps<ToastActionProps>, forwardedRef) => {\n    const { altText, ...actionProps } = props;\n    if (!altText) return null;\n    return (\n      <ToastAnnounceExclude altText={altText} asChild>\n        <ToastClose {...actionProps} ref={forwardedRef} />\n      </ToastAnnounceExclude>\n    );\n  }\n);\n\nToastAction.propTypes = {\n  altText(props) {\n    if (!props.altText) {\n      return new Error(`Missing prop \\`altText\\` expected on \\`${ACTION_NAME}\\``);\n    }\n    return null;\n  },\n};\n\nToastAction.displayName = ACTION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToastClose\n * -----------------------------------------------------------------------------------------------*/\n\nconst CLOSE_NAME = 'ToastClose';\n\ntype ToastCloseElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToastCloseProps extends PrimitiveButtonProps {}\n\nconst ToastClose = React.forwardRef<ToastCloseElement, ToastCloseProps>(\n  (props: ScopedProps<ToastCloseProps>, forwardedRef) => {\n    const { __scopeToast, ...closeProps } = props;\n    const interactiveContext = useToastInteractiveContext(CLOSE_NAME, __scopeToast);\n\n    return (\n      <ToastAnnounceExclude asChild>\n        <Primitive.button\n          type=\"button\"\n          {...closeProps}\n          ref={forwardedRef}\n          onClick={composeEventHandlers(props.onClick, interactiveContext.onClose)}\n        />\n      </ToastAnnounceExclude>\n    );\n  }\n);\n\nToastClose.displayName = CLOSE_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype ToastAnnounceExcludeElement = React.ElementRef<typeof Primitive.div>;\ninterface ToastAnnounceExcludeProps extends PrimitiveDivProps {\n  altText?: string;\n}\n\nconst ToastAnnounceExclude = React.forwardRef<\n  ToastAnnounceExcludeElement,\n  ToastAnnounceExcludeProps\n>((props: ScopedProps<ToastAnnounceExcludeProps>, forwardedRef) => {\n  const { __scopeToast, altText, ...announceExcludeProps } = props;\n\n  return (\n    <Primitive.div\n      data-radix-toast-announce-exclude=\"\"\n      data-radix-toast-announce-alt={altText || undefined}\n      {...announceExcludeProps}\n      ref={forwardedRef}\n    />\n  );\n});\n\nfunction getAnnounceTextContent(container: HTMLElement) {\n  const textContent: string[] = [];\n  const childNodes = Array.from(container.childNodes);\n\n  childNodes.forEach((node) => {\n    if (node.nodeType === node.TEXT_NODE && node.textContent) textContent.push(node.textContent);\n    if (isHTMLElement(node)) {\n      const isHidden = node.ariaHidden || node.hidden || node.style.display === 'none';\n      const isExcluded = node.dataset.radixToastAnnounceExclude === '';\n\n      if (!isHidden) {\n        if (isExcluded) {\n          const altText = node.dataset.radixToastAnnounceAlt;\n          if (altText) textContent.push(altText);\n        } else {\n          textContent.push(...getAnnounceTextContent(node));\n        }\n      }\n    }\n  });\n\n  // We return a collection of text rather than a single concatenated string.\n  // This allows SR VO to naturally pause break between nodes while announcing.\n  return textContent;\n}\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction handleAndDispatchCustomEvent<\n  E extends CustomEvent,\n  ReactEvent extends React.SyntheticEvent\n>(\n  name: string,\n  handler: ((event: E) => void) | undefined,\n  detail: { originalEvent: ReactEvent } & (E extends CustomEvent<infer D> ? D : never),\n  { discrete }: { discrete: boolean }\n) {\n  const currentTarget = detail.originalEvent.currentTarget as HTMLElement;\n  const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n  if (handler) currentTarget.addEventListener(name, handler as EventListener, { once: true });\n\n  if (discrete) {\n    dispatchDiscreteCustomEvent(currentTarget, event);\n  } else {\n    currentTarget.dispatchEvent(event);\n  }\n}\n\nconst isDeltaInDirection = (\n  delta: { x: number; y: number },\n  direction: SwipeDirection,\n  threshold = 0\n) => {\n  const deltaX = Math.abs(delta.x);\n  const deltaY = Math.abs(delta.y);\n  const isDeltaX = deltaX > deltaY;\n  if (direction === 'left' || direction === 'right') {\n    return isDeltaX && deltaX > threshold;\n  } else {\n    return !isDeltaX && deltaY > threshold;\n  }\n};\n\nfunction useNextFrame(callback = () => {}) {\n  const fn = useCallbackRef(callback);\n  useLayoutEffect(() => {\n    let raf1 = 0;\n    let raf2 = 0;\n    raf1 = window.requestAnimationFrame(() => (raf2 = window.requestAnimationFrame(fn)));\n    return () => {\n      window.cancelAnimationFrame(raf1);\n      window.cancelAnimationFrame(raf2);\n    };\n  }, [fn]);\n}\n\nfunction isHTMLElement(node: any): node is HTMLElement {\n  return node.nodeType === node.ELEMENT_NODE;\n}\n\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */\nfunction getTabbableCandidates(container: HTMLElement) {\n  const nodes: HTMLElement[] = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node: any) => {\n      const isHiddenInput = node.tagName === 'INPUT' && node.type === 'hidden';\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    },\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode as HTMLElement);\n  // we do not take into account the order of nodes with positive `tabIndex` as it\n  // hinders accessibility to have tab order different from visual order.\n  return nodes;\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const previouslyFocusedElement = document.activeElement;\n  return candidates.some((candidate) => {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === previouslyFocusedElement) return true;\n    candidate.focus();\n    return document.activeElement !== previouslyFocusedElement;\n  });\n}\n\nconst Provider = ToastProvider;\nconst Viewport = ToastViewport;\nconst Root = Toast;\nconst Title = ToastTitle;\nconst Description = ToastDescription;\nconst Action = ToastAction;\nconst Close = ToastClose;\n\nexport {\n  createToastScope,\n  //\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastAction,\n  ToastClose,\n  //\n  Provider,\n  Viewport,\n  Root,\n  Title,\n  Description,\n  Action,\n  Close,\n};\nexport type {\n  ToastProviderProps,\n  ToastViewportProps,\n  ToastProps,\n  ToastTitleProps,\n  ToastDescriptionProps,\n  ToastActionProps,\n  ToastCloseProps,\n};\n"],"names":["createToastScope","ToastProvider","ToastViewport","Toast","ToastTitle","ToastDescription","ToastAction","ToastClose","Provider","Viewport","Root","Title","Description","Action","Close","React","ReactDOM","composeEventHandlers","useComposedRefs","createCollection","createContextScope","DismissableLayer","Portal","Presence","Primitive","dispatchDiscreteCustomEvent","useCallbackRef","useControllableState","useLayoutEffect","VisuallyHidden","PROVIDER_NAME","Collection","useCollection","createCollectionScope","createToastContext","ToastProviderProvider","useToastProviderContext","props","__scopeToast","label","duration","swipeDirection","swipeThreshold","children","viewport","setViewport","useState","toastCount","setToastCount","isFocusedToastEscapeKeyDownRef","useRef","isClosePausedRef","useCallback","prevCount","propTypes","trim","error","Error","VIEWPORT_NAME","VIEWPORT_DEFAULT_HOTKEY","VIEWPORT_PAUSE","VIEWPORT_RESUME","forwardRef","forwardedRef","hotkey","viewportProps","context","getItems","wrapperRef","headFocusProxyRef","tailFocusProxyRef","ref","composedRefs","onViewportChange","hotkeyLabel","join","replace","hasToasts","useEffect","handleKeyDown","event","isHotkeyPressed","every","key","code","current","focus","document","addEventListener","removeEventListener","wrapper","handlePause","pauseEvent","CustomEvent","dispatchEvent","handleResume","resumeEvent","handleFocusOutResume","isFocusMovingOutside","contains","relatedTarget","handlePointerLeaveResume","isFocusInside","activeElement","window","getSortedTabbableCandidates","tabbingDirection","toastItems","tabbableCandidates","map","toastItem","toastNode","toastTabbableCandidates","getTabbableCandidates","reverse","flat","isMetaKey","altKey","ctrlKey","metaKey","isTabKey","focusedElement","isTabbingBackwards","shiftKey","targetIsViewport","target","sortedCandidates","index","findIndex","candidate","focusFirst","slice","preventDefault","pointerEvents","undefined","FOCUS_PROXY_NAME","FocusProxy","onFocusFromOutsideViewport","proxyProps","position","prevFocusedElement","isFocusFromOutsideViewport","TOAST_NAME","TOAST_SWIPE_START","TOAST_SWIPE_MOVE","TOAST_SWIPE_CANCEL","TOAST_SWIPE_END","forceMount","open","openProp","defaultOpen","onOpenChange","toastProps","setOpen","prop","defaultProp","onChange","onPause","onResume","onSwipeStart","currentTarget","setAttribute","onSwipeMove","x","y","detail","delta","style","setProperty","onSwipeCancel","removeProperty","onSwipeEnd","ToastInteractiveProvider","useToastInteractiveContext","onClose","ToastImpl","type","durationProp","onEscapeKeyDown","node","setNode","pointerStartRef","swipeDeltaRef","closeTimerStartTimeRef","closeTimerRemainingTimeRef","closeTimerRef","onToastAdd","onToastRemove","handleClose","isFocusInToast","startTimer","Infinity","clearTimeout","Date","getTime","setTimeout","elapsedTime","announceTextContent","useMemo","getAnnounceTextContent","createPortal","userSelect","touchAction","onKeyDown","nativeEvent","defaultPrevented","onPointerDown","button","clientX","clientY","onPointerMove","hasSwipeMoveStarted","Boolean","isHorizontalSwipe","includes","clamp","Math","min","max","clampedX","clampedY","moveStartBuffer","pointerType","eventDetail","originalEvent","handleAndDispatchCustomEvent","discrete","isDeltaInDirection","setPointerCapture","pointerId","abs","onPointerUp","hasPointerCapture","releasePointerCapture","toast","once","ToastAnnounce","announceProps","renderAnnounceText","setRenderAnnounceText","isAnnounced","setIsAnnounced","useNextFrame","timer","TITLE_NAME","titleProps","DESCRIPTION_NAME","descriptionProps","ACTION_NAME","altText","actionProps","CLOSE_NAME","closeProps","interactiveContext","onClick","ToastAnnounceExclude","announceExcludeProps","container","textContent","childNodes","Array","from","forEach","nodeType","TEXT_NODE","push","isHTMLElement","isHidden","ariaHidden","hidden","display","isExcluded","dataset","radixToastAnnounceExclude","radixToastAnnounceAlt","name","handler","bubbles","cancelable","direction","threshold","deltaX","deltaY","isDeltaX","callback","fn","raf1","raf2","requestAnimationFrame","cancelAnimationFrame","ELEMENT_NODE","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","disabled","FILTER_SKIP","tabIndex","FILTER_ACCEPT","nextNode","currentNode","candidates","previouslyFocusedElement","some"],"version":3,"file":"index.mjs.map"}